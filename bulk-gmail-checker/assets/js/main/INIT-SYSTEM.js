const executionBackground=document.getElementById("executionBackground"),videoSrc=document.getElementById("exVidSrc"),loadingState=document.getElementById("server-loading-state"),backgroundGlow=document.getElementById("background-glow"),appTitle=document.getElementById("app-title"),backgroundGmail=document.getElementById("background-gmail"),appVersion=document.getElementById("app-version"),inputSection=document.getElementById("input-section"),textareaContainer=document.getElementById("textarea-container"),emailInput=document.getElementById("email-input"),lineNumbers=document.getElementById("line-numbers"),pasteBtn=document.getElementById("paste-btn"),uploadBtn=document.getElementById("upload-btn"),fileInput=document.getElementById("file-input"),serverSelectionContainer=document.getElementById("server-selection-container"),errorInfo=document.getElementById("error-info"),errorList=document.getElementById("error-list"),addGmailDomainBtn=document.getElementById("add-gmail-domain-btn"),outputSection=document.getElementById("output-section"),resultTitle=document.getElementById("result-title"),copyBtn=document.getElementById("copy-btn"),downloadBtn=document.getElementById("download-btn"),filterBtns=document.querySelectorAll(".filter-btn"),resultList=document.getElementById("result-list"),resultListContainer=document.querySelector(".result-list-container"),countAll=document.getElementById("count-all"),countLive=document.getElementById("count-live"),countVer=document.getElementById("count-ver"),countDisabled=document.getElementById("count-disabled"),countUnregistered=document.getElementById("count-unregistered"),countBad=document.getElementById("count-bad"),progressOverlay=document.getElementById("progress-overlay"),donutChart=document.getElementById("donut-chart"),progressText=document.getElementById("progress-text"),verifyFilterBtn=document.getElementById("verify-filter-btn"),unregisteredFilterBtn=document.getElementById("unregistered-filter-btn"),badFilterBtn=document.getElementById("bad-filter-btn"),disabledFilterBtn=document.getElementById("disabled-filter-btn"),inputButtonContainer=document.getElementById("input-button"),outputButtonContainer=document.getElementById("output-button"),stopButttonContainer=document.getElementById("stop-button-container"),stopExecutionBtn=document.getElementById("stop-execution-btn"),systemMessage=document.getElementById("system-message"),apiStats=document.getElementById("api-stats"),closStatsAbsolute=document.getElementById("close-stats-absolute"),systemInfoContainer=document.getElementById("system-info-container"),clearInputBtn=document.getElementById("clear-input-btn"),executeBtn=document.getElementById("execute-btn"),clearErrorsBtn=document.getElementById("clear-errors-btn"),resetBtn=document.getElementById("reset-btn"),backMyAccountBtn=document.getElementById("back-myAccount-btn"),myAccountButton=document.getElementById("my-account-button"),DB_URL="https://ws-proxy.mbahbabat.workers.dev",SERVER_URL="https://gmail-validation.mbahbabat.workers.dev",isMobile=window.innerWidth<=1024;let APIKEY=null,systemMessageBlocked=!1,isExecution=!1;function blockUpdateMessages(e){systemMessageBlocked=e}function updateExecutionStatus(e){isExecution=e}function setupListener(){appTitle.addEventListener("click",(function(){window.location.href="../"})),emailInput.addEventListener("input",(function(){validateInput()})),emailInput.addEventListener("click",(function(){validateInput()})),emailInput.addEventListener("blur",(function(){validateInput()})),addGmailDomainBtn.addEventListener("click",(function(){addGmailDomain()})),emailInput.addEventListener("scroll",updateInputLineNumbers),pasteBtn.addEventListener("click",handlePaste),uploadBtn.addEventListener("click",(()=>fileInput.click())),fileInput.addEventListener("change",handleFileUpload),clearInputBtn.addEventListener("click",clearInput),clearErrorsBtn.addEventListener("click",clearErrors),stopExecutionBtn.addEventListener("click",cancelExecution),resetBtn.addEventListener("click",resetSystem),copyBtn.addEventListener("click",copyResults),downloadBtn.addEventListener("click",downloadResults),closStatsAbsolute.addEventListener("click",closeStats),executeBtn.addEventListener("click",(function(){validateInput(),EXECUTE()})),myAccountButton&&myAccountButton.addEventListener("click",showMyAccountModal),myAccountButton&&backMyAccountBtn.addEventListener("click",showMyAccountModal),window.addEventListener("resize",(function(){validateInput()})),filterBtns.forEach((e=>{e.addEventListener("click",(()=>{filterBtns.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),currentFilter=e.dataset.filter,isLangID?copyBtn.innerHTML=`<p><i class="fas fa-copy"></i> SALIN </p> <p style="padding-top: 5px;border-top:1px dashed orange;font-weight: normal;font-size: 0.6em"><i class="fa-regular fa-envelope-open"></i> status: ${currentFilter.toUpperCase()}</p>`:copyBtn.innerHTML=`<p><i class="fas fa-copy"></i> COPY </p> <p style="padding-top: 5px;border-top:1px dashed orange;font-weight: normal;font-size: 0.6em"><i class="fa-regular fa-envelope-open"></i> status: ${currentFilter.toUpperCase()}</p>`,isLangID?downloadBtn.innerHTML=`<p><i class="fas fa-download"></i> UNDUH(TXT)</p><p style="padding-top: 5px; border-top:1px dashed orange;font-weight: normal;font-size: 0.6em"><i class="fa-solid fa-envelope"></i> status: ${currentFilter.toUpperCase()}</p>`:downloadBtn.innerHTML=`<p><i class="fas fa-download"></i> DOWNLOAD(TXT)</p><p style="padding-top: 5px; border-top:1px dashed orange;font-weight: normal;font-size: 0.6em"><i class="fa-solid fa-envelope"></i> status: ${currentFilter.toUpperCase()}</p>`,resultListContainer.scrollTop=0,displayResults()}))}))}async function buildingLazySystem(){function e(e,t,n=null){return new Promise((o=>{const a=document.createElement("script");a.src=e,a.id=t,n&&(a.type=n),a.onload=o,document.body.appendChild(a)}))}try{await e(`${assetsBasePath}/js/main/API-KEY-STATS.js`,"API-KEY-STATS"),await e(`${assetsBasePath}/js/main/INPUT-HANDLER.js`,"INPUT-HANDLER"),await e(`${assetsBasePath}/js/main/HISTORY.js`,"HISTORY"),await e(`${assetsBasePath}/js/main/RESULT-HANDLER.js`,"RESULT-HANDLER"),await e(`${assetsBasePath}/js/main/EXECUTOR.js`,"EXECUTOR"),await e(`${assetsBasePath}/js/main/MY-ACCOUNT.js`,"MY-ACCOUNT"),setTimeout((async()=>{isMobile||await e(`${assetsBasePath}/js/lib/notepad.js`,"notepad")}),1e4)}catch(e){console.error("Error loading lazy system:",e)}}async function START(){await buildingLazySystem(),setupListener(),validateInput(),emailInput.scrollTop=emailInput.scrollHeight,emailInput.focus(),backgroundGmail.style.cssText=` background-image: url('${assetsBasePath}/image/dragon-bulk-gmail-checker-gmail-background.webp')`,appVersion.tetxContent=currentAppVersion}