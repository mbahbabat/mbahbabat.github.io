const loadingState=document.getElementById("server-loading-state"),backgroundGlow=document.getElementById("background-glow"),inputSection=document.getElementById("input-section"),textareaContainer=document.getElementById("textarea-container"),emailInput=document.getElementById("email-input"),lineNumbers=document.getElementById("line-numbers"),pasteBtn=document.getElementById("paste-btn"),uploadBtn=document.getElementById("upload-btn"),fileInput=document.getElementById("file-input"),serverSelectionContainer=document.getElementById("server-selection-container"),errorInfo=document.getElementById("error-info"),errorList=document.getElementById("error-list"),outputSection=document.getElementById("output-section"),resultTitle=document.getElementById("result-title"),copyBtn=document.getElementById("copy-btn"),downloadBtn=document.getElementById("download-btn"),filterBtns=document.querySelectorAll(".filter-btn"),resultList=document.getElementById("result-list"),resultListContainer=document.querySelector(".result-list-container"),countAll=document.getElementById("count-all"),countLive=document.getElementById("count-live"),countVer=document.getElementById("count-ver"),countDisabled=document.getElementById("count-disabled"),countUnregistered=document.getElementById("count-unregistered"),countBad=document.getElementById("count-bad"),progressOverlay=document.getElementById("progress-overlay"),donutChart=document.getElementById("donut-chart"),progressText=document.getElementById("progress-text"),verifyFilterBtn=document.getElementById("verify-filter-btn"),unregisteredFilterBtn=document.getElementById("unregistered-filter-btn"),badFilterBtn=document.getElementById("bad-filter-btn"),disabledFilterBtn=document.getElementById("disabled-filter-btn"),inputButtonContainer=document.getElementById("input-button"),outputButtonContainer=document.getElementById("output-button"),stopButttonContainer=document.getElementById("stop-button-container"),stopExecutionBtn=document.getElementById("stop-execution-btn"),systemMessage=document.getElementById("system-message"),apiStats=document.getElementById("api-stats"),closStatsAbsolute=document.getElementById("close-stats-absolute"),systemInfoContainer=document.getElementById("system-info-container"),clearInputBtn=document.getElementById("clear-input-btn"),executeBtn=document.getElementById("execute-btn"),clearErrorsBtn=document.getElementById("clear-errors-btn"),resetBtn=document.getElementById("reset-btn"),backMyAccountBtn=document.getElementById("back-myAccount-btn"),myAccountButton=document.getElementById("my-account-button"),DB_URL="https://ws-proxy.mbahbabat.workers.dev",SERVER_URL="https://gmail-validation.mbahbabat.workers.dev";let APIKEY=null,systemMessageBlocked=!1,isExecution=!1;function blockUpdateMessages(e){systemMessageBlocked=e}function updateExecutionStatus(e){isExecution=e}function setupListener(){emailInput.addEventListener("input",(function(){validateInput()})),emailInput.addEventListener("click",(function(){validateInput()})),emailInput.addEventListener("blur",(function(){validateInput()})),emailInput.addEventListener("scroll",updateInputLineNumbers),pasteBtn.addEventListener("click",handlePaste),uploadBtn.addEventListener("click",(()=>fileInput.click())),fileInput.addEventListener("change",handleFileUpload),clearInputBtn.addEventListener("click",clearInput),clearErrorsBtn.addEventListener("click",clearErrors),executeBtn.addEventListener("click",EXECUTE),stopExecutionBtn.addEventListener("click",cancelExecution),resetBtn.addEventListener("click",resetSystem),copyBtn.addEventListener("click",copyResults),downloadBtn.addEventListener("click",downloadResults),closStatsAbsolute.addEventListener("click",closeStats),myAccountButton&&myAccountButton.addEventListener("click",showMyAccountModal),myAccountButton&&backMyAccountBtn.addEventListener("click",showMyAccountModal),window.addEventListener("resize",(function(){validateInput()})),filterBtns.forEach((e=>{e.addEventListener("click",(()=>{filterBtns.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),currentFilter=e.dataset.filter,copyBtn.innerHTML=`<p><i class="fas fa-copy"></i> COPY </p> <p style="padding-top: 5px;border-top:1px dashed orange;font-weight: normal;font-size: 0.6em"><i class="fa-regular fa-envelope-open"></i> status: ${currentFilter.toUpperCase()}</p>`,downloadBtn.innerHTML=`<p><i class="fas fa-download"></i> DOWNLOAD(TXT)</p><p style="padding-top: 5px; border-top:1px dashed orange;font-weight: normal;font-size: 0.6em"><i class="fa-solid fa-envelope"></i> status: ${currentFilter.toUpperCase()}</p>`,resultListContainer.scrollTop=0,displayResults()}))}))}const loadedScripts=new Map;function loadScript(e,t,n="text/javascript"){if(loadedScripts.has(t))return loadedScripts.get(t);if(document.getElementById(t)){const e=Promise.resolve(document.getElementById(t));return loadedScripts.set(t,e),e}const o=new Promise(((o,s)=>{const d=document.createElement("script");d.src=e,d.id=t,d.type=n,d.async=!0,d.defer=!0,d.onload=()=>{o(d)},d.onerror=()=>{console.error(`Error loading script: ${t} (${e})`),loadedScripts.delete(t),s(new Error(`Failed to load script ${t}`))},document.body.appendChild(d)}));return loadedScripts.set(t,o),o}const loadedCss=new Map;function loadCss(e,t=null){if(t||(t="css-"+e.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase()),loadedCss.has(t))return loadedCss.get(t);if(document.getElementById(t)){const e=Promise.resolve(document.getElementById(t));return loadedCss.set(t,e),e}const n=new Promise(((n,o)=>{const s=document.createElement("link");s.href=e,s.rel="stylesheet",s.id=t,s.onload=()=>{n(s)},s.onerror=()=>{console.error(`Error loading CSS: ${t} (${e})`),loadedCss.delete(t),o(new Error(`Failed to load CSS ${t}`))},document.head.appendChild(s)}));return loadedCss.set(t,n),n}async function buildingLazySystem(){await Promise.all([loadCss("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css","FONT-AWESOME-CSS"),loadScript("../assets/js/lib/jquery-3.6.0.min.js","JQUERY-LIB")]),await loadScript("../assets/js/main/API-KEY-STATS.js","API-KEY-STATS"),await loadScript("../assets/js/main/EMAILSANITIZERWORKER.js","EMAIL-SANITIZER-WORKER"),await loadScript("../assets/js/main/INPUT-HANDLER.js","INPUT-HANDLER"),await loadScript("../assets/js/main/HISTORY.js","HISTORY"),await loadScript("../assets/js/main/RESULT-HANDLER.js","RESULT-HANDLER"),await loadScript("../assets/js/main/EXECUTOR.js","EXECUTOR"),await loadScript("../assets/js/main/MY-ACCOUNT.js","MY-ACCOUNT"),await loadScript("../assets/js/analytics/analytics.js","ANALYTICS-MODULE","module")}async function START(){await buildingLazySystem(),"function"==typeof setupListener?setupListener():console.warn("setupListener function not found or not globally accessible."),"function"==typeof validateInput?validateInput():console.warn("validateInput function not found or not globally accessible.");const e=document.getElementById("your-email-input-id");e?e.scrollTop=e.scrollHeight:console.warn("Email input element not found.")}START();