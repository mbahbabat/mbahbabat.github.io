let invalidEmails=[],validEmails=[];function inputLineNumbersScroll(){lineNumbers.scrollTop=emailInput.scrollTop}function updateInputLineNumbers(){const e=emailInput.value.split("\n");lineNumbers.innerHTML="";for(let t=1;t<=e.length;t++){const e=document.createElement("div");e.textContent=t,lineNumbers.appendChild(e)}}function handlePaste(){navigator.clipboard.readText().then((e=>{emailInput.value=e,updateInputLineNumbers()})).catch((e=>{console.error("Failed to read clipboard contents: ",e),alert("Failed to paste from clipboard. Please paste manually.")}))}function handleFileUpload(e){const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=function(e){emailInput.value=e.target.result,updateInputLineNumbers(),fileInput.value=""},a.readAsText(t)}function clearInput(){emailInput.value="",validateInput(),updateInputLineNumbers()}function validateInput(){let e=emailInput.value.split("\n"),t=new Set;invalidEmails=[],validEmails=[],e.forEach(((e,a)=>{const n=a+1,l=/([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)/gi;let i,s=0;for(;null!==(i=l.exec(e));){const a=e.substring(s,i.index).trim();a.length>0&&invalidEmails.push({lineNumber:n,text:a,message:"Not a valid email format",color:"#ff0055"});let r=i[0].trim();if(s=l.lastIndex,0===r.length)continue;const o=/@gmail\.com$/i;if(!/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+)@([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)$/.test(r)){invalidEmails.push({lineNumber:n,text:r,message:"Invalid email format",color:"red"});continue}const d=r.split("@")[0];if(/[^a-zA-Z0-9._-]/.test(d))invalidEmails.push({lineNumber:n,text:r,message:"Contains invalid characters in local part",color:"orange"});else if(o.test(r))t.has(r.toLowerCase())?invalidEmails.push({lineNumber:n,text:r,message:"Duplicate email",color:"purple"}):(validEmails.push(r),t.add(r.toLowerCase()));else{const e=r.split("@")[1];invalidEmails.push({lineNumber:n,text:r,message:`Wrong domain: ${e}`,color:"blue"})}}const r=e.substring(s).trim();r.length>0&&invalidEmails.push({lineNumber:n,text:r,message:"Not a valid email format",color:"#ff0055"})})),displayErrors()}function toggleErrorBtn(){invalidEmails.length>0?(executeBtn.disabled=!0,pasteBtn.disabled=!0,uploadBtn.disabled=!0,clearInputBtn.classList.add("hidden"),clearErrorsBtn.classList.remove("hidden")):(executeBtn.disabled=!1,pasteBtn.disabled=!1,uploadBtn.disabled=!1,clearInputBtn.classList.remove("hidden"),clearErrorsBtn.classList.add("hidden"))}let messageInterval=null;function displayErrors(){if(!systemMessageBlocked)if(messageInterval&&(clearInterval(messageInterval),messageInterval=null),toggleErrorBtn(),errorList.innerHTML="",invalidEmails.length>0)errorInfo.classList.remove("hidden"),systemMessage.textContent=`${invalidEmails.length} invalid emails detected`,invalidEmails.forEach((e=>{const t=document.createElement("p"),a=document.createTextNode(`Line ${e.lineNumber}: ${e.text} - `);t.appendChild(a);const n=document.createElement("span");n.style.color=e.color,n.textContent=e.message,t.appendChild(n),errorList.appendChild(t)}));else{errorList.innerHTML="",errorInfo.classList.add("hidden");if(0===emailInput.value.trim().length)return void(systemMessage.textContent="ENTER AT LEAST 1 VALID EMAIL ADDRESS");systemMessage.textContent=e(),messageInterval=setInterval((()=>{systemMessageBlocked||(systemMessage.textContent=e())}),15e3)}function e(){const e=["CLICK EXECUTE BUTTON TO START","ONLY ACCEPTS THE GMAIL.COM DOMAIN","INSTANT VERIFICATION IN SECONDS","PASTE MULTIPLE EMAILS FOR QUICK CHECK","ENSURE ALL EMAILS ARE GMAIL ACCOUNTS","ONLY GMAIL ADDRESSES ARE SUPPORTED","AUTO REMOVE INVALID OR MALFORMED EMAILS","SKIP NON-GMAIL ADDRESSES AUTOMATICALLY","GET REAL-TIME VALIDATION FEEDBACK","SAVE YOUR TIME — CHECK 1000 EMAILS IN SECONDS","BULK PROCESSING AT LIGHTNING SPEED","INSTANT RESULTS, ZERO WAITING","NO MORE MANUAL CHECKING!","AUTOMATE YOUR EMAIL VALIDATION","CATCH INVALID, FAKE, OR TYPOED EMAILS","REAL-TIME VERIFICATION ENGINE","ONLY VALID GMAILS PASS THROUGH","JUST PASTE & CLICK — IT’S THAT EASY","PASTE YOUR GMAILS AND CLICK EXECUTE","SUPPORTS MULTIPLE EMAILS — ONE PER LINE","ONLY GMAIL.COM ADDRESSES ACCEPTED"];return e[Math.floor(Math.random()*e.length)]}}async function clearErrors(){emailInput.value=validEmails.join("\n"),invalidEmails=[],errorList.innerHTML="",toggleErrorBtn(),validateInput(),updateInputLineNumbers()}